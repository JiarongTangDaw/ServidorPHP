<?php
    $paises = [
    (object)[ "nombre"=> "China", "habitantes"=> 1410470000, "superficie"=> 9596961 ],
    (object)[ "nombre"=> "India", "habitantes"=> 1382600000, "superficie"=> 3287263 ],
    (object)[ "nombre"=> "Estados Unidos", "habitantes"=> 339000000, "superficie"=> 9833517 ],
    (object)[ "nombre"=> "Indonesia", "habitantes"=> 275500000, "superficie"=> 1904569 ],
    (object)[ "nombre"=> "Pakistán", "habitantes"=> 240500000, "superficie"=> 770880 ],
    (object)[ "nombre"=> "Brazil", "habitantes"=> 215000000, "superficie"=> 8515770 ],
    (object)[ "nombre"=> "Nigeria", "habitantes"=> 224000000, "superficie"=> 923768 ],
    (object)[ "nombre"=> "Bangladesh", "habitantes"=> 171000000, "superficie"=> 147570 ],
    (object)[ "nombre"=> "Rusia", "habitantes"=> 146000000, "superficie"=> 17098242 ],
    (object)[ "nombre"=> "México", "habitantes"=> 133000000, "superficie"=> 1964375 ],
    (object)[ "nombre"=> "Japón", "habitantes"=> 124000000, "superficie"=> 377975 ],
    (object)[ "nombre"=> "Etiopía", "habitantes"=> 120000000, "superficie"=> 1104300 ],
    (object)[ "nombre"=> "Filipinas", "habitantes"=> 116000000, "superficie"=> 300000 ],
    (object)[ "nombre"=> "Egipto", "habitantes"=> 110000000, "superficie"=> 1002450 ],
    (object)[ "nombre"=> "Vietnam", "habitantes"=> 103000000, "superficie"=> 331212 ],
    (object)[ "nombre"=> "República Democrática del Congo", "habitantes"=> 110000000, "superficie"=> 2344858 ],
    (object)[ "nombre"=> "Irán", "habitantes"=> 86000000, "superficie"=> 1648195 ],
    (object)[ "nombre"=> "Turquía", "habitantes"=> 86000000, "superficie"=> 783562 ],
    (object)[ "nombre"=> "Alemania", "habitantes"=> 84000000, "superficie"=> 357022 ],
    (object)[ "nombre"=> "Tailandia", "habitantes"=> 70000000, "superficie"=> 510890 ],
    (object)[ "nombre"=> "Reino Unido", "habitantes"=> 68000000, "superficie"=> 243610 ],
    (object)[ "nombre"=> "Francia", "habitantes"=> 67000000, "superficie"=> 551695 ],
    (object)[ "nombre"=> "Italia", "habitantes"=> 60000000, "superficie"=> 301340 ],
    (object)[ "nombre"=> "Tanzania", "habitantes"=> 62000000, "superficie"=> 947300 ],
    (object)[ "nombre"=> "Sudáfrica", "habitantes"=> 60000000, "superficie"=> 1221037 ],
    (object)[ "nombre"=> "Myanmar", "habitantes"=> 57000000, "superficie"=> 676578 ],
    (object)[ "nombre"=> "Corea del Sur", "habitantes"=> 52000000, "superficie"=> 100210 ],
    (object)[ "nombre"=> "Colombia", "habitantes"=> 52000000, "superficie"=> 1141748 ],
    (object)[ "nombre"=> "Kenya", "habitantes"=> 52000000, "superficie"=> 580367 ],
    (object)[ "nombre"=> "España", "habitantes"=> 49000000, "superficie"=> 505990 ],
    (object)[ "nombre"=> "Argelia", "habitantes"=> 46000000, "superficie"=> 2381741 ],
    (object)[ "nombre"=> "Uganda", "habitantes"=> 48000000, "superficie"=> 241550 ],
    (object)[ "nombre"=> "Sudán", "habitantes"=> 48000000, "superficie"=> 1861484 ],
    (object)[ "nombre"=> "Ucrania", "habitantes"=> 42000000, "superficie"=> 603500 ],
    (object)[ "nombre"=> "Irak", "habitantes"=> 44000000, "superficie"=> 438317 ],
    (object)[ "nombre"=> "Polonia", "habitantes"=> 37000000, "superficie"=> 312696 ],
    (object)[ "nombre"=> "Canadá", "habitantes"=> 38000000, "superficie"=> 9984670 ],
    (object)[ "nombre"=> "Marruecos", "habitantes"=> 37000000, "superficie"=> 446550 ],
    (object)[ "nombre"=> "Arabia Saudita", "habitantes"=> 36000000, "superficie"=> 2149690 ],
    (object)[ "nombre"=> "Uzbekistán", "habitantes"=> 37000000, "superficie"=> 447400 ],
    (object)[ "nombre"=> "Malasia", "habitantes"=> 33000000, "superficie"=> 330803 ],
    (object)[ "nombre"=> "Perú", "habitantes"=> 34500000, "superficie"=> 1285216 ],
    (object)[ "nombre"=> "Afganistán", "habitantes"=> 35000000, "superficie"=> 652230 ],
    (object)[ "nombre"=> "Angola", "habitantes"=> 35000000, "superficie"=> 1246700 ],
    (object)[ "nombre"=> "Mozambique", "habitantes"=> 33000000, "superficie"=> 801590 ],
    (object)[ "nombre"=> "Ghana", "habitantes"=> 33000000, "superficie"=> 238533 ],
    (object)[ "nombre"=> "Yemen", "habitantes"=> 32000000, "superficie"=> 527968 ],
    (object)[ "nombre"=> "Nepal", "habitantes"=> 31000000, "superficie"=> 147181 ],
    (object)[ "nombre"=> "Venezuela", "habitantes"=> 28500000, "superficie"=> 916445 ],
    (object)[ "nombre"=> "Madagascar", "habitantes"=> 30000000, "superficie"=> 587041 ],
    (object)[ "nombre"=> "Camerún", "habitantes"=> 26500000, "superficie"=> 475442 ],
    (object)[ "nombre"=> "Costa de Marfil", "habitantes"=> 27000000, "superficie"=> 322463 ],
    (object)[ "nombre"=> "Niger", "habitantes"=> 26000000, "superficie"=> 1267000 ],
    (object)[ "nombre"=> "Sri Lanka", "habitantes"=> 22000000, "superficie"=> 65610 ],
    (object)[ "nombre"=> "Burkina Faso", "habitantes"=> 23000000, "superficie"=> 274200 ],
    (object)[ "nombre"=> "Mali", "habitantes"=> 24000000, "superficie"=> 1240192 ],
    (object)[ "nombre"=> "Rumanía", "habitantes"=> 19000000, "superficie"=> 238391 ],
    (object)[ "nombre"=> "Kazajistán", "habitantes"=> 20000000, "superficie"=> 2724900 ],
    (object)[ "nombre"=> "Siria", "habitantes"=> 18000000, "superficie"=> 185180 ],
    (object)[ "nombre"=> "Chile", "habitantes"=> 19000000, "superficie"=> 756102 ],
    (object)[ "nombre"=> "Guatemala", "habitantes"=> 19000000, "superficie"=> 108889 ],
    (object)[ "nombre"=> "Zambia", "habitantes"=> 21000000, "superficie"=> 752618 ],
    (object)[ "nombre"=> "Países Bajos", "habitantes"=> 17500000, "superficie"=> 41543 ],
    (object)[ "nombre"=> "Senegal", "habitantes"=> 18000000, "superficie"=> 196722 ],
    (object)[ "nombre"=> "Camboya", "habitantes"=> 17200000, "superficie"=> 181035 ],
    (object)[ "nombre"=> "Chad", "habitantes"=> 17500000, "superficie"=> 1284000 ],
    (object)[ "nombre"=> "Somalia", "habitantes"=> 17000000, "superficie"=> 637657 ],
    (object)[ "nombre"=> "Zimbabwe", "habitantes"=> 16500000, "superficie"=> 390757 ],
    (object)[ "nombre"=> "Guinea", "habitantes"=> 15600000, "superficie"=> 245857 ],
    (object)[ "nombre"=> "Rwanda", "habitantes"=> 15000000, "superficie"=> 26338 ],
    (object)[ "nombre"=> "Benín", "habitantes"=> 13500000, "superficie"=> 114763 ],
    (object)[ "nombre"=> "Burundi", "habitantes"=> 13500000, "superficie"=> 27834 ],
    (object)[ "nombre"=> "Túnez", "habitantes"=> 13000000, "superficie"=> 163610 ],
    (object)[ "nombre"=> "Bolivia", "habitantes"=> 12500000, "superficie"=> 1098581 ],
    (object)[ "nombre"=> "Bélgica", "habitantes"=> 11600000, "superficie"=> 30528 ],
    (object)[ "nombre"=> "Haití", "habitantes"=> 11700000, "superficie"=> 27750 ],
    (object)[ "nombre"=> "Cuba", "habitantes"=> 11200000, "superficie"=> 109884 ],
    (object)[ "nombre"=> "Sudán del Sur", "habitantes"=> 11000000, "superficie"=> 619745 ],
    (object)[ "nombre"=> "República Checa", "habitantes"=> 10700000, "superficie"=> 78865 ],
    (object)[ "nombre"=> "Grecia", "habitantes"=> 10500000, "superficie"=> 131957 ],
    (object)[ "nombre"=> "Portugal", "habitantes"=> 10300000, "superficie"=> 92090 ],
    (object)[ "nombre"=> "Suecia", "habitantes"=> 10400000, "superficie"=> 450295 ],
    (object)[ "nombre"=> "Hungría", "habitantes"=> 9700000, "superficie"=> 93030 ],
    (object)[ "nombre"=> "Bielorrusia", "habitantes"=> 9400000, "superficie"=> 207600 ],
    (object)[ "nombre"=> "Austria", "habitantes"=> 9200000, "superficie"=> 83879 ],
    (object)[ "nombre"=> "Suiza", "habitantes"=> 9000000, "superficie"=> 41285 ],
    (object)[ "nombre"=> "Israel", "habitantes"=> 9300000, "superficie"=> 20770 ],
    (object)[ "nombre"=> "Togo", "habitantes"=> 8800000, "superficie"=> 56785 ],
    (object)[ "nombre"=> "Sierra Leona", "habitantes"=> 8400000, "superficie"=> 71740 ],
    (object)[ "nombre"=> "Libia", "habitantes"=> 7900000, "superficie"=> 1759540 ],
    (object)[ "nombre"=> "Laos", "habitantes"=> 7600000, "superficie"=> 236800 ],
    (object)[ "nombre"=> "Paraguay", "habitantes"=> 7500000, "superficie"=> 406752 ],
    (object)[ "nombre"=> "Bulgaria", "habitantes"=> 7000000, "superficie"=> 110879 ],
    (object)[ "nombre"=> "Líbano", "habitantes"=> 7000000, "superficie"=> 10452 ],
    (object)[ "nombre"=> "Libia", "habitantes"=> 7900000, "superficie"=> 1759540 ],
    (object)[ "nombre"=> "Corea del Norte", "habitantes"=> 25000000, "superficie"=> 120538 ],
    (object)[ "nombre"=> "Irlanda", "habitantes"=> 5300000, "superficie"=> 70273 ],
    (object)[ "nombre"=> "Nueva Zelanda", "habitantes"=> 5100000, "superficie"=> 268838 ],
    (object)[ "nombre"=> "Costa Rica", "habitantes"=> 5200000, "superficie"=> 51100 ]
  ];

  // echo floor(($paises[0]->superficie%1000)/100);
  $tabla = "<table border='1'>";
  $tabla .= "<thead>";
  $tabla .= "<tr>";
  $tabla .= "<th>Nombre Pais</th>";
  $tabla .= "<th>Tipo pais</th>";
  $tabla .= "<th>Tercera cifra de superficie</th>";
  $tabla .= "</tr>";
  $tabla .= "</thead>";
  $tabla .= "<tbody>";

  foreach($paises as $pais){
    $nombre = $pais -> nombre;
    if($nombre == null){
      $nombre = "";
    }else{
      $nombre = $pais -> nombre;
    };

    $habitantes = $pais -> habitantes;
    if($habitantes == null){
      $habitantes = 0;
    }else{
      $habitantes = $pais -> habitantes;
    };

    $tipo = "";
    if($habitantes > 10000000){
      $tipo = "pais grande";
    }else{
      $tipo = "pais pequeño";
    };

    $superficie = $pais -> superficie;
    if($superficie == null){
      $superficie = 0;
    }else{
      $superficie = $pais -> superficie;
    };

    $cifra = 0;
    if(is_int($superficie)){
      if($superficie < 100){
        $cifra = -1;
      }else{
        $cifra = floor(($superficie % 1000)/100);
      };
    }else{
      $longitud = strlen($superficie);
      if($longitud < 3){
        $cifra = -1;
      }else{
        // intval convierte string en integer
        $cifra = intval(substr($superficie,$longitud-3,1));
      };
    }

    
    $tabla .= "<tr>";
    $tabla .= "<td>$nombre</td>";
    $tabla .= "<td>$tipo</td>";
    $tabla .= "<td>$cifra</td>";
    $tabla .= "</tr>";

  }
  $tabla .= "</tbody>";
  $tabla .= "</table>";
  echo $tabla;
?>